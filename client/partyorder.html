
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Birthday Card</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="weddorder.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>
<body>
    <header>
        <!--navbar include a menu item search bar and logo this code is only for computer screen-->
        <div class="nav">
            <!-- logo for home page  -->
            <div class="logo">
                <img src="logo2.png" alt="">
            </div>
            <!-- menu items for computer screen -->
            <div class="menu-items">
                <a href="Index.html">Home</a>
                <a href="About.html">About</a>
                <a href="contact.html">Contact</a>
                <a href="#">Order</a>
                <a href="help.html">help</a>
            </div>
            <!-- search bar for home page computer screen -->
            <div class="searchbar">
                <div class="input">
                    <input type="text" id="searchInput" placeholder="Search">
                </div>
                <div class="searchicon">
                    <i class="fa-solid fa-magnifying-glass"></i>
                </div>
            </div>
        </div>
        <!-- menu icon and search bar for mobile screen -->
        <div class="searchbarandmenu">
            <!-- search bar for mobile screen -->
            <div class="mobilesearch">
                <div class="dropdown">
                    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenu2" data-bs-toggle="dropdown" aria-expanded="false">
                    Menu
                    </button>
                    <ul class="dropdown-menu" aria-labelledby="dropdownMenu2">
                        <a href="Index.html"><button class="dropdown-item" type="button">Home</button></a>
                        <a href="About.html"><li><button class="dropdown-item" type="button">About</button></li></a>
                        <a href=""><li><button class="dropdown-item" type="button">Order</button></li></a>
                        <a href="contact.html"><li><button class="dropdown-item" type="button">Contact</button></li></a>
                        <a href="help.html"><li><button class="dropdown-item" type="button">Help</button></li></a>
                    </ul>
                </div>
                <div class="input">
                    <input type="text" id="mobileSearchInput" placeholder="Search">
                </div>
                <!-- search icon for mobile screen -->
                <div class="searchicon">
                    <i class="fa-solid fa-magnifying-glass"></i>
                </div>
            </div>
        </div>
    </header>
    <main>
        <!--Card details -->
        <div class="box">
            <div class="image" style="padding: 10px;" id="change">
              <img id="changeimage" src="" alt="PARTY CARD">
            </div>
            <div id="myModal" class="modal">
              <span class="close">&times;</span>
              <img class="modal-content" id="img01">
              <div id="caption"></div>
            </div>
            <div class="details">
                <h3>Create Stunning Party Invitations Online - Inivite</h3>
                <h5 style="font-size: x-small;">by Murugan Invite</h5>
                <div class="amount" style="display:flex; flex-direction: row; justify-content:space-between;width: 50px;">
                    <s id="discount"> </s> 
                    <h3 style="font-size: larger;" id="orginalamount">  </h3>
                </div>
                <h6 id="cardno"> </h6>
                <h5 style="padding-left:15px;color:#00918a;">Inclusive of all Taxes.</h5>
                <h4 style="font-family:Georgia, 'Times New Roman', Times, serif;">Design and personalize beautiful wedding invitations effortlessly with EasyInvite. Choose from a range of templates, customize with your details, and impress your guests with stunning invites that set the tone for your special day.</h4>
            </div>
        </div>
        
        <!--using bootstasrp for froms get details-->
        <div class="box1">
            <form class="row g-3" id="partyform">
                <div class="col-md-6">
                  <label for="inputEmail4" class="form-label" >Title</label>
                  <input type="text" class="form-control" id="title" name="title" placeholder="Enter the name of a function" required>
                </div> 
                <br> <br>
                <div class="col-md-6">
                    <label for="inputPassword4" class="form-label"> Name:</label>
                    <input type="text" class="form-control" id="partyname" name="partyname" required>
                  </div>
                <div class="col-md-2">
                  <label for="inputEmail4" class="form-label">Date</label>
                  <input type="date" class="form-control" id="date" name="date" required>
                </div>
                <div class="col-md-2">
                  <label for="inputEmail4" class="form-label">Time</label>
                  <input type="time" class="form-control" id="times" name="times" required>
                </div>
                <div class="col-12">
                  <label for="inputAddress2" class="form-label">venue:</label>
                  <input type="text" class="form-control" id="venue" name="venue" required>
                </div>
                <div class="form-group">
                  <label for="exampleFormControlTextarea1">Addtional Information:</label>
                  <textarea class="form-control" id="additionalinformation" name="additionalinformation" rows="3"></textarea>
                </div>
                <div class="col-md-2">
                  <label for="inputEmail4" class="form-label">Mobile No:</label>
                  <input type="number" class="form-control" id="mobileno" name="mobileno" required>
                </div>

                <div class="col-md-2">
                  <label for="inputZip" class="form-label">No of Card Order:</label>
                  <input type="number" class="form-control" id="noofcards" name="noofcards">
                </div>
                <div class="col-md-2">
                    <label for="inputZip" class="form-label">card No:</label>
                    <input type="text" class="form-control" id="inputcardno" name="inputcardno">
                  </div>
                <div class="col-12">
                  <button type="submit" class="btn btn-primary">Sumit</button>
                </div>
                <div class="notification" id="notification"></div>
              </form>
        </div>
    </main>
    <footer>
        <!-- footer in home page html logo and address and add a more page -->
        <div class="footer">
            <div class="footerlogo">
                <img src="logo2.png" alt="">
            </div>
            <div class="address">
                <h6>N0.1897</h6>
                <h6>Salem main Road,</h6>
                <h6>Anguchettipalaym</h6>
                <h6>Panruti 600107</h6>
            </div>
            <div class="links">
                <a href="Index.html">Home</a>
                <a href="About.html">About</a>
                <a href="contact.html">contact</a>
                <a href="help.html">help</a>

            </div>
        </div>
        <center style="background-color: #d4ebea;"><h5 style="font-size: medium;color: #528582;">Â© 2023 Designed and Developed by Balaji Sekar</h5></center>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
    <script src="party.js"></script>
    <script>
    //Geting a detials in brithday order from
    document.getElementById('partyform').addEventListener('submit', async (e) => {
    e.preventDefault();
    //database schema
    const orderData = {
    title: document.getElementById('title').value,
    venue: document.getElementById('venue').value,
    additionalinformation: document.getElementById('additionalinformation').value,
    noofcard: document.getElementById('noofcards').value,
    mobileno: document.getElementById('mobileno').value,
    inputcardno: document.getElementById('inputcardno').value,
    date: document.getElementById('date').value,
    partyname: document.getElementById('partyname').value,
    times: document.getElementById('times').value,
    };
    
    try {
    const token = localStorage.getItem('token');
    if (!token) {
        alert('You are not logged in. Please log in and try again.');
        window.location.href = 'login.html';
        return;
    }
    //fetching the details in brithdayorder 
    const response = await fetch('/api/auth/partyorder', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'x-auth-token': token,
        },
        body: JSON.stringify(orderData),
    });
    
    const data = await response.json();
     //Notification of above the form is above the not filled geting error 
    if (response.ok) {
        alert('Your order is Received you want to any correction go to dashboardpage');
        document.getElementById('notification').classList.add('success');
        document.getElementById('notification').innerText = 'Order submitted successfully!';
    } else {
        document.getElementById('notification').classList.add('error');
        document.getElementById('notification').innerText = data.msg || 'Error submitting order';
    }
    } catch (error) {
    console.error('Error:', error);
    document.getElementById('notification').classList.add('error');
    document.getElementById('notification').innerText = 'Error submitting order';
    }
    });
    </script>
</body>

</html>